<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.5"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Nameless Engine: ne::ShaderCpuWriteResourceBinding Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only.css" rel="stylesheet" type="text/css"/>
<link href="custom.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Nameless Engine
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.5 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('classne_1_1ShaderCpuWriteResourceBinding.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="#pro-static-methods">Static Protected Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="#friends">Friends</a> &#124;
<a href="classne_1_1ShaderCpuWriteResourceBinding-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">ne::ShaderCpuWriteResourceBinding Class Reference</div></div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="ShaderCpuWriteResourceBinding_8h_source.html">ShaderCpuWriteResourceBinding.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for ne::ShaderCpuWriteResourceBinding:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classne_1_1ShaderCpuWriteResourceBinding.png" usemap="#ne::ShaderCpuWriteResourceBinding_map" alt=""/>
  <map id="ne::ShaderCpuWriteResourceBinding_map" name="ne::ShaderCpuWriteResourceBinding_map">
<area href="classne_1_1ShaderResourceBindingBase.html" alt="ne::ShaderResourceBindingBase" shape="rect" coords="0,0,221,24"/>
  </map>
</div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ae1fdd09dc4a1ed860ef49d2ea2a844c0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classne_1_1ShaderCpuWriteResourceBinding.html#ae1fdd09dc4a1ed860ef49d2ea2a844c0">copyResourceIndexToShaderConstants</a> (<a class="el" href="classne_1_1PipelineShaderConstantsManager.html">PipelineShaderConstantsManager</a> *pShaderConstantsManager, <a class="el" href="classne_1_1Pipeline.html">Pipeline</a> *pUsedPipeline, size_t iCurrentFrameResourceIndex)</td></tr>
<tr class="separator:ae1fdd09dc4a1ed860ef49d2ea2a844c0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad61d5d64df67b98b7b941a14b73ba56f"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classne_1_1ShaderCpuWriteResourceBinding.html#ad61d5d64df67b98b7b941a14b73ba56f">getResourceDataSizeInBytes</a> () const</td></tr>
<tr class="separator:ad61d5d64df67b98b7b941a14b73ba56f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7bc2c8bc3aea60dc7d57710549932a12"><td class="memItemLeft" align="right" valign="top">virtual std::optional&lt; <a class="el" href="classne_1_1Error.html">Error</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classne_1_1ShaderCpuWriteResourceBinding.html#a7bc2c8bc3aea60dc7d57710549932a12">changeUsedPipelines</a> (const std::unordered_set&lt; <a class="el" href="classne_1_1Pipeline.html">Pipeline</a> * &gt; &amp;pipelinesToUse) override</td></tr>
<tr class="separator:a7bc2c8bc3aea60dc7d57710549932a12"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classne_1_1ShaderResourceBindingBase"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classne_1_1ShaderResourceBindingBase')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="classne_1_1ShaderResourceBindingBase.html">ne::ShaderResourceBindingBase</a></td></tr>
<tr class="memitem:a994a141941a81fd2058c36f144c1685f inherit pub_methods_classne_1_1ShaderResourceBindingBase"><td class="memItemLeft" align="right" valign="top">virtual std::optional&lt; <a class="el" href="classne_1_1Error.html">Error</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classne_1_1ShaderResourceBindingBase.html#a994a141941a81fd2058c36f144c1685f">changeUsedPipelines</a> (const std::unordered_set&lt; <a class="el" href="classne_1_1Pipeline.html">Pipeline</a> * &gt; &amp;pipelinesToUse)=0</td></tr>
<tr class="separator:a994a141941a81fd2058c36f144c1685f inherit pub_methods_classne_1_1ShaderResourceBindingBase"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a741dd05156bdd35eed54ab3e549b448c inherit pub_methods_classne_1_1ShaderResourceBindingBase"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classne_1_1ShaderResourceBindingBase.html#a741dd05156bdd35eed54ab3e549b448c">getShaderResourceName</a> () const</td></tr>
<tr class="separator:a741dd05156bdd35eed54ab3e549b448c inherit pub_methods_classne_1_1ShaderResourceBindingBase"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pro-methods" name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:af6c9a2063ccf95219b02b677246af7ff"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classne_1_1ShaderCpuWriteResourceBinding.html#af6c9a2063ccf95219b02b677246af7ff">ShaderCpuWriteResourceBinding</a> (const std::string &amp;<a class="el" href="classne_1_1ShaderResourceBindingBase.html#a9f8fc5fdd024fa41de9e601b633ab649">sShaderResourceName</a>, size_t <a class="el" href="classne_1_1ShaderCpuWriteResourceBinding.html#ac2c2f454b05fc0e7a2d3f8dd30fd7b5b">iResourceDataSizeInBytes</a>, const std::function&lt; void *()&gt; &amp;<a class="el" href="classne_1_1ShaderCpuWriteResourceBinding.html#a068a1984ca2ea0e6537717d3639dee7f">onStartedUpdatingResource</a>, const std::function&lt; void()&gt; &amp;<a class="el" href="classne_1_1ShaderCpuWriteResourceBinding.html#a5524efd84ed3ab90145dc567d1ae99dd">onFinishedUpdatingResource</a>, const std::unordered_map&lt; <a class="el" href="classne_1_1Pipeline.html">Pipeline</a> *, size_t &gt; &amp;uintShaderConstantOffsets)</td></tr>
<tr class="separator:af6c9a2063ccf95219b02b677246af7ff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7a7beba941bc6302e57e78b6a259e265"><td class="memItemLeft" align="right" valign="top">virtual std::optional&lt; <a class="el" href="classne_1_1Error.html">Error</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classne_1_1ShaderCpuWriteResourceBinding.html#a7a7beba941bc6302e57e78b6a259e265">onAfterAllPipelinesRefreshedResources</a> () override</td></tr>
<tr class="separator:a7a7beba941bc6302e57e78b6a259e265"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pro_methods_classne_1_1ShaderResourceBindingBase"><td colspan="2" onclick="javascript:toggleInherit('pro_methods_classne_1_1ShaderResourceBindingBase')"><img src="closed.png" alt="-"/>&#160;Protected Member Functions inherited from <a class="el" href="classne_1_1ShaderResourceBindingBase.html">ne::ShaderResourceBindingBase</a></td></tr>
<tr class="memitem:a605b56970e874418a368dda9eca826ef inherit pro_methods_classne_1_1ShaderResourceBindingBase"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classne_1_1ShaderResourceBindingBase.html#a605b56970e874418a368dda9eca826ef">ShaderResourceBindingBase</a> (const std::string &amp;<a class="el" href="classne_1_1ShaderResourceBindingBase.html#a9f8fc5fdd024fa41de9e601b633ab649">sShaderResourceName</a>)</td></tr>
<tr class="separator:a605b56970e874418a368dda9eca826ef inherit pro_methods_classne_1_1ShaderResourceBindingBase"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeeb20e00c70013812394fc38f24677c8 inherit pro_methods_classne_1_1ShaderResourceBindingBase"><td class="memItemLeft" align="right" valign="top">virtual std::optional&lt; <a class="el" href="classne_1_1Error.html">Error</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classne_1_1ShaderResourceBindingBase.html#aeeb20e00c70013812394fc38f24677c8">onAfterAllPipelinesRefreshedResources</a> ()=0</td></tr>
<tr class="separator:aeeb20e00c70013812394fc38f24677c8 inherit pro_methods_classne_1_1ShaderResourceBindingBase"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pro-static-methods" name="pro-static-methods"></a>
Static Protected Member Functions</h2></td></tr>
<tr class="memitem:a8a22646effb6575c74bd41857583da75"><td class="memItemLeft" align="right" valign="top">static std::variant&lt; std::unique_ptr&lt; <a class="el" href="classne_1_1ShaderCpuWriteResourceBinding.html">ShaderCpuWriteResourceBinding</a> &gt;, <a class="el" href="classne_1_1Error.html">Error</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classne_1_1ShaderCpuWriteResourceBinding.html#a8a22646effb6575c74bd41857583da75">create</a> (const std::string &amp;<a class="el" href="classne_1_1ShaderResourceBindingBase.html#a9f8fc5fdd024fa41de9e601b633ab649">sShaderResourceName</a>, const std::string &amp;sResourceAdditionalInfo, size_t iResourceSizeInBytes, const std::unordered_set&lt; <a class="el" href="classne_1_1Pipeline.html">Pipeline</a> * &gt; &amp;pipelinesToUse, const std::function&lt; void *()&gt; &amp;<a class="el" href="classne_1_1ShaderCpuWriteResourceBinding.html#a068a1984ca2ea0e6537717d3639dee7f">onStartedUpdatingResource</a>, const std::function&lt; void()&gt; &amp;<a class="el" href="classne_1_1ShaderCpuWriteResourceBinding.html#a5524efd84ed3ab90145dc567d1ae99dd">onFinishedUpdatingResource</a>)</td></tr>
<tr class="separator:a8a22646effb6575c74bd41857583da75"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeb8cb2153b57969d7623cd46b7f2d5fb"><td class="memItemLeft" align="right" valign="top">static std::variant&lt; std::unordered_map&lt; <a class="el" href="classne_1_1Pipeline.html">Pipeline</a> *, size_t &gt;, <a class="el" href="classne_1_1Error.html">Error</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classne_1_1ShaderCpuWriteResourceBinding.html#aeb8cb2153b57969d7623cd46b7f2d5fb">getUintShaderConstantOffsetsFromPipelines</a> (const std::unordered_set&lt; <a class="el" href="classne_1_1Pipeline.html">Pipeline</a> * &gt; &amp;pipelines, const std::string &amp;sFieldName)</td></tr>
<tr class="separator:aeb8cb2153b57969d7623cd46b7f2d5fb"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pro-attribs" name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr class="memitem:aeb55d3e832595e7c09be95535e98a33a"><td class="memItemLeft" align="right" valign="top">std::pair&lt; std::recursive_mutex, std::unordered_map&lt; <a class="el" href="classne_1_1Pipeline.html">Pipeline</a> *, size_t &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classne_1_1ShaderCpuWriteResourceBinding.html#aeb55d3e832595e7c09be95535e98a33a">mtxUintShaderConstantOffsets</a></td></tr>
<tr class="separator:aeb55d3e832595e7c09be95535e98a33a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab297577a375d25254e9e4b7d9ab796f7"><td class="memItemLeft" align="right" valign="top">std::array&lt; std::unique_ptr&lt; <a class="el" href="classne_1_1DynamicCpuWriteShaderResourceArraySlot.html">DynamicCpuWriteShaderResourceArraySlot</a> &gt;, <a class="el" href="classne_1_1FrameResourceManager.html#a90b23924d591a9a2fc33241c25d7892c">FrameResourceManager::getFrameResourceCount</a>()&gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classne_1_1ShaderCpuWriteResourceBinding.html#ab297577a375d25254e9e4b7d9ab796f7">vResourceData</a></td></tr>
<tr class="separator:ab297577a375d25254e9e4b7d9ab796f7"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pri-methods" name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:a33648104f7e366bbda652e92a4742b26"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classne_1_1ShaderCpuWriteResourceBinding.html#a33648104f7e366bbda652e92a4742b26">updateResource</a> (size_t iCurrentFrameResourceIndex)</td></tr>
<tr class="separator:a33648104f7e366bbda652e92a4742b26"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pri-attribs" name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:a068a1984ca2ea0e6537717d3639dee7f"><td class="memItemLeft" align="right" valign="top">const std::function&lt; void *()&gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classne_1_1ShaderCpuWriteResourceBinding.html#a068a1984ca2ea0e6537717d3639dee7f">onStartedUpdatingResource</a></td></tr>
<tr class="separator:a068a1984ca2ea0e6537717d3639dee7f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5524efd84ed3ab90145dc567d1ae99dd"><td class="memItemLeft" align="right" valign="top">const std::function&lt; void()&gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classne_1_1ShaderCpuWriteResourceBinding.html#a5524efd84ed3ab90145dc567d1ae99dd">onFinishedUpdatingResource</a></td></tr>
<tr class="separator:a5524efd84ed3ab90145dc567d1ae99dd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac2c2f454b05fc0e7a2d3f8dd30fd7b5b"><td class="memItemLeft" align="right" valign="top">const size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classne_1_1ShaderCpuWriteResourceBinding.html#ac2c2f454b05fc0e7a2d3f8dd30fd7b5b">iResourceDataSizeInBytes</a> = 0</td></tr>
<tr class="separator:ac2c2f454b05fc0e7a2d3f8dd30fd7b5b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="friends" name="friends"></a>
Friends</h2></td></tr>
<tr class="memitem:a4d9f97b1decaf4128ab95754d8e78bfd"><td class="memItemLeft" align="right" valign="top"><a id="a4d9f97b1decaf4128ab95754d8e78bfd" name="a4d9f97b1decaf4128ab95754d8e78bfd"></a>
class&#160;</td><td class="memItemRight" valign="bottom"><b>ShaderCpuWriteResourceBindingManager</b></td></tr>
<tr class="separator:a4d9f97b1decaf4128ab95754d8e78bfd"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p >References a single (non-array) shader resource (that is written in a shader file) that has CPU write access available (can be updated from the CPU side). </p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="af6c9a2063ccf95219b02b677246af7ff" name="af6c9a2063ccf95219b02b677246af7ff"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af6c9a2063ccf95219b02b677246af7ff">&#9670;&#160;</a></span>ShaderCpuWriteResourceBinding()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">ne::ShaderCpuWriteResourceBinding::ShaderCpuWriteResourceBinding </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>sShaderResourceName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>iResourceDataSizeInBytes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::function&lt; void *()&gt; &amp;&#160;</td>
          <td class="paramname"><em>onStartedUpdatingResource</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::function&lt; void()&gt; &amp;&#160;</td>
          <td class="paramname"><em>onFinishedUpdatingResource</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::unordered_map&lt; <a class="el" href="classne_1_1Pipeline.html">Pipeline</a> *, size_t &gt; &amp;&#160;</td>
          <td class="paramname"><em>uintShaderConstantOffsets</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p >Constructs a partially initialized object.</p>
<dl class="section remark"><dt>Remarks</dt><dd>Only used internally, instead use <a class="el" href="classne_1_1ShaderCpuWriteResourceBinding.html#a8a22646effb6575c74bd41857583da75">create</a>.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sShaderResourceName</td><td>Name of the resource we are referencing (should be exactly the same as the resource name written in the shader file we are referencing). </td></tr>
    <tr><td class="paramname">iResourceDataSizeInBytes</td><td>Size (in bytes) of the data that this resource will contain. </td></tr>
    <tr><td class="paramname">onStartedUpdatingResource</td><td>Function that will be called when started updating resource data. Function returns pointer to data of the specified resource data size that needs to be copied into the resource. </td></tr>
    <tr><td class="paramname">onFinishedUpdatingResource</td><td>Function that will be called when finished updating (usually used for unlocking resource data mutex). </td></tr>
    <tr><td class="paramname">uintShaderConstantOffsets</td><td>Offsets of root/push constants (per-pipeline) to copy an index into array to. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a7bc2c8bc3aea60dc7d57710549932a12" name="a7bc2c8bc3aea60dc7d57710549932a12"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7bc2c8bc3aea60dc7d57710549932a12">&#9670;&#160;</a></span>changeUsedPipelines()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::optional&lt; <a class="el" href="classne_1_1Error.html">Error</a> &gt; ne::ShaderCpuWriteResourceBinding::changeUsedPipelines </td>
          <td>(</td>
          <td class="paramtype">const std::unordered_set&lt; <a class="el" href="classne_1_1Pipeline.html">Pipeline</a> * &gt; &amp;&#160;</td>
          <td class="paramname"><em>pipelinesToUse</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p >Called to make the resource to discard currently used pipelines and bind/reference other pipelines.</p>
<dl class="section warning"><dt>Warning</dt><dd>Expects that the caller is using some mutex to protect this shader resource from being used in the <code>draw</code> function while this function is not finished (i.e. make sure the CPU will not queue a new frame while this function is not finished).</dd></dl>
<dl class="section remark"><dt>Remarks</dt><dd>For example, for this function can be called from a mesh node that changed its geometry and thus added/removed some material slots, or if some material that mesh node is using changed its pipeline.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pipelinesToUse</td><td>Pipelines to use instead of the current ones.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="classne_1_1Error.html">Error</a> if something went wrong. </dd></dl>

<p>Implements <a class="el" href="classne_1_1ShaderResourceBindingBase.html#a994a141941a81fd2058c36f144c1685f">ne::ShaderResourceBindingBase</a>.</p>

</div>
</div>
<a id="ae1fdd09dc4a1ed860ef49d2ea2a844c0" name="ae1fdd09dc4a1ed860ef49d2ea2a844c0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae1fdd09dc4a1ed860ef49d2ea2a844c0">&#9670;&#160;</a></span>copyResourceIndexToShaderConstants()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void ne::ShaderCpuWriteResourceBinding::copyResourceIndexToShaderConstants </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classne_1_1PipelineShaderConstantsManager.html">PipelineShaderConstantsManager</a> *&#160;</td>
          <td class="paramname"><em>pShaderConstantsManager</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classne_1_1Pipeline.html">Pipeline</a> *&#160;</td>
          <td class="paramname"><em>pUsedPipeline</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>iCurrentFrameResourceIndex</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p >Copies resource index (into shader arrays) to a root/push constant.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pShaderConstantsManager</td><td><a class="el" href="classne_1_1Shader.html">Shader</a> constants manager. </td></tr>
    <tr><td class="paramname">pUsedPipeline</td><td>Current pipeline. </td></tr>
    <tr><td class="paramname">iCurrentFrameResourceIndex</td><td>Index of the current frame resource. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a8a22646effb6575c74bd41857583da75" name="a8a22646effb6575c74bd41857583da75"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8a22646effb6575c74bd41857583da75">&#9670;&#160;</a></span>create()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::variant&lt; std::unique_ptr&lt; <a class="el" href="classne_1_1ShaderCpuWriteResourceBinding.html">ShaderCpuWriteResourceBinding</a> &gt;, <a class="el" href="classne_1_1Error.html">Error</a> &gt; ne::ShaderCpuWriteResourceBinding::create </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>sShaderResourceName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>sResourceAdditionalInfo</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>iResourceSizeInBytes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::unordered_set&lt; <a class="el" href="classne_1_1Pipeline.html">Pipeline</a> * &gt; &amp;&#160;</td>
          <td class="paramname"><em>pipelinesToUse</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::function&lt; void *()&gt; &amp;&#160;</td>
          <td class="paramname"><em>onStartedUpdatingResource</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::function&lt; void()&gt; &amp;&#160;</td>
          <td class="paramname"><em>onFinishedUpdatingResource</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p >Creates a new shader CPU-write resource.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sShaderResourceName</td><td>Name of the resource we are referencing (should be exactly the same as the resource name written in the shader file we are referencing). </td></tr>
    <tr><td class="paramname">sResourceAdditionalInfo</td><td>Additional text that we will append to created resource name (used for logging). </td></tr>
    <tr><td class="paramname">iResourceSizeInBytes</td><td>Size of the data that this resource will contain. </td></tr>
    <tr><td class="paramname">pipelinesToUse</td><td>Pipelines that use shader/parameters we are referencing. </td></tr>
    <tr><td class="paramname">onStartedUpdatingResource</td><td>Function that will be called when started updating resource data. Function returns pointer to data of the specified resource data size that needs to be copied into the resource. </td></tr>
    <tr><td class="paramname">onFinishedUpdatingResource</td><td>Function that will be called when finished updating (usually used for unlocking resource data mutex).</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="classne_1_1Error.html">Error</a> if something went wrong, otherwise created shader resource. </dd></dl>

</div>
</div>
<a id="ad61d5d64df67b98b7b941a14b73ba56f" name="ad61d5d64df67b98b7b941a14b73ba56f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad61d5d64df67b98b7b941a14b73ba56f">&#9670;&#160;</a></span>getResourceDataSizeInBytes()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">size_t ne::ShaderCpuWriteResourceBinding::getResourceDataSizeInBytes </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p >Returns size of the resource data.</p>
<dl class="section return"><dt>Returns</dt><dd>Size in bytes. </dd></dl>

</div>
</div>
<a id="aeb8cb2153b57969d7623cd46b7f2d5fb" name="aeb8cb2153b57969d7623cd46b7f2d5fb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeb8cb2153b57969d7623cd46b7f2d5fb">&#9670;&#160;</a></span>getUintShaderConstantOffsetsFromPipelines()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::variant&lt; std::unordered_map&lt; <a class="el" href="classne_1_1Pipeline.html">Pipeline</a> *, size_t &gt;, <a class="el" href="classne_1_1Error.html">Error</a> &gt; ne::ShaderCpuWriteResourceBinding::getUintShaderConstantOffsetsFromPipelines </td>
          <td>(</td>
          <td class="paramtype">const std::unordered_set&lt; <a class="el" href="classne_1_1Pipeline.html">Pipeline</a> * &gt; &amp;&#160;</td>
          <td class="paramname"><em>pipelines</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>sFieldName</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p >Looks for root/push constants (field) named after the shader resource in the specified pipelines and returns offsets of such fields.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pipelines</td><td>Pipelines to scan. </td></tr>
    <tr><td class="paramname">sFieldName</td><td>Name of the root/push constant field to look for.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="classne_1_1Error.html">Error</a> if something went wrong, otherwise pairs of "pipeline" - "offset of field". </dd></dl>

</div>
</div>
<a id="a7a7beba941bc6302e57e78b6a259e265" name="a7a7beba941bc6302e57e78b6a259e265"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7a7beba941bc6302e57e78b6a259e265">&#9670;&#160;</a></span>onAfterAllPipelinesRefreshedResources()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::optional&lt; <a class="el" href="classne_1_1Error.html">Error</a> &gt; ne::ShaderCpuWriteResourceBinding::onAfterAllPipelinesRefreshedResources </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">protected</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p >Called from pipeline manager to notify that all pipelines released their internal resources and now restored them so their internal resources (for example push constants) might be different now and shader resource now needs to check that everything that it needs is still there and possibly re-bind to pipeline's descriptors since these might have been also re-created.</p>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="classne_1_1Error.html">Error</a> if something went wrong. </dd></dl>

<p>Implements <a class="el" href="classne_1_1ShaderResourceBindingBase.html#aeeb20e00c70013812394fc38f24677c8">ne::ShaderResourceBindingBase</a>.</p>

</div>
</div>
<a id="a33648104f7e366bbda652e92a4742b26" name="a33648104f7e366bbda652e92a4742b26"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a33648104f7e366bbda652e92a4742b26">&#9670;&#160;</a></span>updateResource()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void ne::ShaderCpuWriteResourceBinding::updateResource </td>
          <td>(</td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>iCurrentFrameResourceIndex</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p >Copies up to date data to the GPU resource of the specified frame resource.</p>
<dl class="section remark"><dt>Remarks</dt><dd>Called by shader resource manager.</dd>
<dd>
Should only be called when resource actually needs an update, otherwise you would cause a useless copy operations.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">iCurrentFrameResourceIndex</td><td>Index of currently used frame resource. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="ac2c2f454b05fc0e7a2d3f8dd30fd7b5b" name="ac2c2f454b05fc0e7a2d3f8dd30fd7b5b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac2c2f454b05fc0e7a2d3f8dd30fd7b5b">&#9670;&#160;</a></span>iResourceDataSizeInBytes</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const size_t ne::ShaderCpuWriteResourceBinding::iResourceDataSizeInBytes = 0</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p >Size (in bytes) of the data that the resource contains. </p>

</div>
</div>
<a id="aeb55d3e832595e7c09be95535e98a33a" name="aeb55d3e832595e7c09be95535e98a33a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeb55d3e832595e7c09be95535e98a33a">&#9670;&#160;</a></span>mtxUintShaderConstantOffsets</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::pair&lt;std::recursive_mutex, std::unordered_map&lt;<a class="el" href="classne_1_1Pipeline.html">Pipeline</a>*, size_t&gt; &gt; ne::ShaderCpuWriteResourceBinding::mtxUintShaderConstantOffsets</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p >Offsets of root/push constants (per-pipeline) to copy an index into array to. </p>

</div>
</div>
<a id="a5524efd84ed3ab90145dc567d1ae99dd" name="a5524efd84ed3ab90145dc567d1ae99dd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5524efd84ed3ab90145dc567d1ae99dd">&#9670;&#160;</a></span>onFinishedUpdatingResource</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const std::function&lt;void()&gt; ne::ShaderCpuWriteResourceBinding::onFinishedUpdatingResource</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p >Function to call when finished updating (usually used for unlocking resource data mutex). </p>

</div>
</div>
<a id="a068a1984ca2ea0e6537717d3639dee7f" name="a068a1984ca2ea0e6537717d3639dee7f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a068a1984ca2ea0e6537717d3639dee7f">&#9670;&#160;</a></span>onStartedUpdatingResource</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const std::function&lt;void*()&gt; ne::ShaderCpuWriteResourceBinding::onStartedUpdatingResource</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p >Function used to update resource data. Returns pointer to data of size <a class="el" href="classne_1_1ShaderCpuWriteResourceBinding.html#ac2c2f454b05fc0e7a2d3f8dd30fd7b5b">iResourceDataSizeInBytes</a> that needs to be copied into resource data storage (GPU resource). </p>

</div>
</div>
<a id="ab297577a375d25254e9e4b7d9ab796f7" name="ab297577a375d25254e9e4b7d9ab796f7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab297577a375d25254e9e4b7d9ab796f7">&#9670;&#160;</a></span>vResourceData</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::array&lt; std::unique_ptr&lt;<a class="el" href="classne_1_1DynamicCpuWriteShaderResourceArraySlot.html">DynamicCpuWriteShaderResourceArraySlot</a>&gt;, <a class="el" href="classne_1_1FrameResourceManager.html#a90b23924d591a9a2fc33241c25d7892c">FrameResourceManager::getFrameResourceCount</a>()&gt; ne::ShaderCpuWriteResourceBinding::vResourceData</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p >Stores data for shaders to use (per frame resource). Index (from array start) will be copied to push constant so that shaders can index into the array and access the data. </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>src/engine_lib/private/shader/general/resource/binding/cpuwrite/<a class="el" href="ShaderCpuWriteResourceBinding_8h_source.html">ShaderCpuWriteResourceBinding.h</a></li>
<li>src/engine_lib/private/shader/general/resource/binding/cpuwrite/ShaderCpuWriteResourceBinding.cpp</li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><b>ne</b></li><li class="navelem"><a class="el" href="classne_1_1ShaderCpuWriteResourceBinding.html">ShaderCpuWriteResourceBinding</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.5 </li>
  </ul>
</div>
</body>
</html>
